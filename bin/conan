#!/usr/bin/env ruby
require "conan/initializer"

case ARGV.first
when "init"
  Conan::Initializer.run

puts <<END
Conan the Deployer has set up your project.

Next, set up your deployment:

* Edit config/servers.json to specify your stages, servers, and roles

* Set up a git submodule for the chef cookbooks you want to use in
  deploy/chef/recipes/cookbooks - see https://github.com/opscode/cookbooks

* Add your own recipes to deploy/chef/recipes/site-cookbooks

* Set up your basic recipe configuration in deploy/chef/dna/base.json

* Edit the TODOs in deploy/chef/dna/*.json

* Add stage-/role-/server-specific files in deploy/chef/dna/*.json

* Add some post-deployment tests in test/deploy/smoke_test.rb that test the
  deployed app.

Finally, use Capistrano to configure your servers and deploy your application
to the desired stage:

* cap staging configure deploy

END
else
  raise "Unrecognised command: #{ARGV.first}"
end
