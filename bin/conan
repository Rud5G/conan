#!/usr/bin/env ruby
require "conan/initializer"

case ARGV.first
when "init"
  Conan::Initializer.run

puts <<END
Conan the Deployer has set up your project.

Next, set up your deployment:

* Edit config/servers.json to specify your stages, servers, and roles
* Set up a git submodule for the chef cookbooks you want to use in
  deploy/chef/recipes/cookbooks - see https://github.com/opscode/cookbooks
* Add your own recipes to deploy/chef/recipes/site-cookbooks
* Set up your basic recipe configuration in deploy/chef/dna/base.json
* Add stage-/role-/server-specific files in deploy/chef/dna/*.json

Finally, use Capistrano to configure your servers and deploy your application
to the desired stage:

* cap staging configure
* cap staging deploy
END
else
  raise "Unrecognised command: #{ARGV.first}"
end
